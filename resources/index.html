<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="style/index.css" />
    <script src="js/neutralino.js"></script>
    <script src="js/windowDrag.js"></script>
    <script src="js/hoverEvt.js"></script>
    <script src="js/index.js"></script>
  </head>
  <body>
    <div id="firstTimeNotice" style="display: none">
      <span>
        <span class="boldTitle">Looks like this is your first time opening GrassClipper!<br/></span>
        First of all, welcome, happy to see you here! :)<br/><br/>
        Would you like to run the proxy installer?<br/>
        (required to connect to private servers)
      </span>
      <div id="firstTimeBtns">
        <button class="playBtn" id="firstTimeBtn" onclick="runInstallScript()">Install</button>
        <button class="altBtn" id="firstTimeBtn" onclick="closeFirstTimePopup()">No thanks</button>
      </div>
    </div>
    <div id="settingsPanel" style="display: none;">
      <span id="fullSettingsTitle">Settings</span>
      <div id="settingsClose">
        <img src="icons/close.svg" onclick="closeSettings()" />
      </div>
      <div id="settingsPanelInner">
        <div class="settingTitle">
          <span>Scripts</span>
        </div>
        <div class="settingsRow">
          <div class="settingSection">
            <span class="settingLabel">Kill Switch</span>
            <input type="checkbox" id="killswitchOption" onchange="toggleKillSwitch()" />
          </div>
          <span class="settingSubtitle">
            Only for those very paranoid about bans. Kills the game process *and your internet* if something happens to the proxy.
          </span>
        </div>
        <div class="settingsRow">
          <div class="settingSection">
            <span class="settingLabel">Install Proxy Server</span>
            <button class="smolBtn" onclick="runInstallScript()">Install</button>
          </div>
          <span class="settingSubtitle">
            Install the proxy server via the install script.
          </span>
        </div>
        <div class="settingsRow">
          <div class="settingSection">
            <span class="settingLabel">Update</span>
            <button class="smolBtn disabled" onclick="updateResources()" id="updateBtn" disabled>Update</button>
          </div>
          <span class="settingSubtitle" id="updateSubtitle">
            Auto updating is temporarily disabled. Check GitHub for the newest release.
          </span>
        </div>
        <div class="settingsRow">
          <div class="settingSection">
            <span class="settingLabel">Enable Server Launcher</span>
            <input type="checkbox" id="serverLaunchOption" onchange="toggleServerLaunchSection()" />
          </div>
          <span class="settingSubtitle" id="serverSubtitle">
            Enable to server launcher tile for launcher a local Grasscutter instance.
          </span>
        </div>
      </div>
    </div>
    <div id="controlBar">
      <span id="titleSection">
        GrassClipper
        <span id="version">0.4.5</span>
      </span>
      <div id="settingsBtn" onclick="openSettings()">
        <img src="icons/cog.svg" />
      </div>
      <div id="minBtn" onclick="minimizeWin()">
        <img src="icons/min.svg" alt="Minimize" />
      </div>
      <div id="closeBtn" onclick="closeWin()">
        <img src="icons/close.svg" />
      </div>
    </div>
    <div id="panelContainer">
      <div id="firstPanel">
        <button class="playBtn" id="playOfficial" onclick="launchOfficial()">Play Official</button>
      </div>
      <div id="secondPanel">
        <div id="ipList" style="display: none;"></div>
        <div id="secondControlContainer">
          <div id="serverInput">
            <input type="text" id="ip" placeholder="IP Address" oninput="handleFavoriteInput()"/>
            <img src="icons/star_empty.svg" id="star" onclick="setFavorite()" />
            <img src="icons/list.svg" id="star" onclick="handleFavoriteList()" />
          </div>
          <button class="playBtn" id="playPrivate" onclick="launchPrivate()">Play Private</button>
        </div>
      </div>
      <div id="thirdPanel" style="display: none;">
        <button class="playBtn" id="serverLaunch" onclick="launchLocalServer()">Launch Local Server</button>
      </div>
    </div>
    
    <div id="bottomBar">
      <div class="bottomSection">
        <div>
          <button class="smolBtn" onclick="setGenshinImpactFolder()">Set "Genshin Impact Game" folder</button>
          <span id="genshinPath" style="margin-top: 4px;"></span>
        </div>
        <div style="display: none;">
          <button class="smolBtn" onclick="setGrassCutterFolder()">Set "GrassCutter" .jar file</button>
          <span id="serverPath" style="margin-top: 4px;"></span>
        </div>
      </div>
    </div>
  </body>
</html>
